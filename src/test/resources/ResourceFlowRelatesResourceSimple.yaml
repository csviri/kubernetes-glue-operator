apiVersion: io.csviri.operator.resourceflow/v1beta1
kind: ResourceFlow
metadata:
  name: wf-related-resource
spec:
  resources:
    - name: configMap1
      resource:
        apiVersion: v1
        kind: ConfigMap
        metadata:
          name: cm1
        data:
          key: "{{secret1.data.key1}}"
    - name: configMap2
      resource:
        apiVersion: v1
        kind: ConfigMap
        metadata:
          name: cm2
        data:
          key: "val2"
      condition:
        type: JSCondition
        script: |
          secret1.metadata.name == "testSecret1";
  relatedResources:
    - name: secret1
      apiVersion: v1
      kind: Secret
      namespace: "set from test"
      resourceNames: testSecret1
